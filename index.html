
import React, { useState, useEffect } from 'react';
import Navbar from './components/Navbar';
import Hero from './components/Hero';
import About from './components/About';
import Portfolio from './components/Portfolio';
import Services from './components/Services';
import Contact from './components/Contact';
import Footer from './components/Footer';
import Lightbox from './components/Lightbox';
import DeploymentGuide from './components/DeploymentGuide';
import { PortfolioItem } from './types';

const App: React.FC = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  const [selectedImage, setSelectedImage] = useState<string | null>(null);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const openLightbox = (imageUrl: string) => {
    setSelectedImage(imageUrl);
  };

  const closeLightbox = () => {
    setSelectedImage(null);
  };

  return (
    <div className="relative">
      <Navbar isScrolled={isScrolled} />
      
      <main>
        <Hero />
        <About />
        <Portfolio onImageClick={openLightbox} />
        <Services />
        <Contact />
      </main>

      <Footer />

      {/* 图片全屏查看器 */}
      {selectedImage && (
        <Lightbox imageUrl={selectedImage} onClose={closeLightbox} />
      )}

      {/* 底部悬浮部署指南按钮 (开发参考，可删除) */}
      <div className="fixed bottom-4 right-4 z-50">
        <button 
          onClick={() => alert('请查阅代码末尾的部署指南文件内容')}
          className="bg-dark text-white px-4 py-2 rounded-full text-sm shadow-lg opacity-30 hover:opacity-100 transition-opacity"
        >
          部署说明
        </button>
      </div>
    </div>
  );
};

export default App;
